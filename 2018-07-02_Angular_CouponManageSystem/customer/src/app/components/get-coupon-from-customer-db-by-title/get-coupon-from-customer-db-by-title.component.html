<h1>Get Coupon by Title</h1>
<br>
<br>
<form #couponByTitle="ngForm" class="container" ng-controller="MainCtrl">
    <div class="form-group">
        <label for="couponTitle">Enter Coupon Title</label>  
        <!-- <input class="form-control" placeholder="Coupon Name" [(ngModel)]=_name #companyName="ngModel" name="couponName" type="text" id="couponName" required=""/>         -->
        <input required
           pattern="^[a-zA-Z]+[a-zA-Z0-9].*"
           minlength="1"      
           ngModel
           name="couponTitle"  
           #couponTitle="ngModel"
           id="couponTitle"
           type="text"
           class="form-control" 
           placeholder="couponTitle" 
           [(ngModel)]=_title/>
          <div class="alert alert-danger" *ngIf="couponTitle.touched && !couponTitle.valid">
            <div *ngIf="couponTitle.errors.required">Title is required</div>
            <div *ngIf="couponTitle.errors.minlength">Title should be minimum {{ couponTitle.errors.minlength.requiredLength }} chararcters</div>
            <div *ngIf="couponTitle.errors.pattern">Title does not match pattern for example "ad"</div>                       
          </div>     
    </div>
    <div class="form-group">
        <button (click)="getPurchasedCouponsByTitle()" class="btn btn-primary btn-lg" [disabled]="!couponByTitle.valid">Get Coupon by Name <span class="glyphicon glyphicon-plus"></span></button>        
    </div>    
</form> 


<div class="table-box">
    <table class="table">
        <thead>
                <img src="{{_coupon.image}}">
        </thead>
        <tbody id="tbody_tr" var="_coupon">
            <br>
            <tr><td>Id</td><td>{{_coupon.id}}</td></tr>            
            <tr><td>Title</td><td>{{_coupon.title}}</td></tr>
            <tr><td>Start Date</td><td>{{_coupon.startDate | date : "dd/MM/yyyy"}}</td></tr>
            <tr><td>End Date</td><td>{{_coupon.endDate | date : "dd/MM/yyyy"}}</td></tr>
            <tr><td>Amount</td><td>{{_coupon.amount}}</td></tr>
            <tr><td>Type</td><td>{{_coupon.type}}</td></tr>
            <tr><td>Message</td><td>{{_coupon.message}}</td></tr>
            <tr><td>Price</td><td>{{_coupon.price | currency: 'ILS'}}</td></tr>       
        </tbody>
    </table>
    </div>
